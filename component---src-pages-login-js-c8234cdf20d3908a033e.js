(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{SGa5:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return d}));var r=t("q1tI"),s=t.n(r),n=t("6LfT"),m=t("Wbzz"),c=t("NKCw"),l=t("8Aud"),i=t("bfiW"),o=t("wStg"),u=t("Xj0o");function d(){const{token:e,allUsers:a,setCurrentUser:t,x:r,setX:d}=s.a.useContext(u.Context),[p,g]=s.a.useState(!1),{setError:b,getValues:E,register:f,handleSubmit:_,watch:w,errors:h,clearErrors:N}=Object(c.b)();return s.a.createElement(n.a,null,s.a.createElement("div",{id:"login"},s.a.createElement("div",{className:"card my-auto"},s.a.createElement("form",{onSubmit:_(async e=>{g(!0);const r=await Object(o.checkLoginData)(a,e);r?(t(r),e.rem_me&&Object(o.cacheToLocalStorage)(r,i.jwtSecret),Object(m.navigate)("/user")):b("uname_or_pass",{type:"manual",message:i.err_msgs.cred_invalid}),g(!1)}),className:"card-body d-flex align-items-center justify-content-center flex-column"},s.a.createElement("h1",{id:"title"},"Log In"),s.a.createElement("input",{type:"text",placeholder:"username",className:"field",id:"uname",name:"uname",onChange:()=>N("uname_or_pass"),ref:f({required:i.err_msgs.required})}),s.a.createElement(l.a,{as:"p",className:"err_msg",errors:h,name:"uname"}),s.a.createElement(l.a,{as:"p",className:"err_msg",errors:h,name:"uname_or_pass"}),s.a.createElement("input",{type:"password",placeholder:"password",name:"pass",onChange:()=>N("uname_or_pass"),className:"field",id:"pass",ref:f({required:i.err_msgs.required})}),s.a.createElement(l.a,{as:"p",className:"err_msg",errors:h,name:"pass"}),s.a.createElement("div",{className:"d-flex w-100 align-items-center"},s.a.createElement("input",{name:"rem_me",ref:f(),type:"checkbox"}),s.a.createElement("p",{id:"rem-me"},"Remember me"),s.a.createElement(m.Link,{className:"ml-auto",id:"btn-sign-up",to:"/signup"},"Sign up")),s.a.createElement("button",{type:"submit",id:"btn-submit",className:"align-self-start mt-4 hvr-sweep-to-top",disabled:p||!Object(o.isEmpty)(h)},p?i.dataProcessLoader:"Submit")))))}}}]);
//# sourceMappingURL=component---src-pages-login-js-c8234cdf20d3908a033e.js.map